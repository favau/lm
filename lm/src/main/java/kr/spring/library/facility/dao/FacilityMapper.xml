<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.spring.library.facility.dao.FacilityMapper">
	<insert id="insertFacility" parameterType="facilityVO">
		INSERT INTO lib_facility_admin(
		  facility_num,
		  facility_name,
		  facility_content,
		  facility_image)
		VALUES(
		  lib_facility_seq.nextval,
		  #{facility_name},
		  #{facility_content},
		  #{facility_image})
	</insert>
	<select id="selectFacilityList" parameterType="map" resultType="facilityVO">
		SELECT
		   *
		FROM (SELECT
		        a.*,
		        rownum rnum
		      FROM (SELECT
		              *
		            FROM lib_facility_admin
		            
		            ORDER BY facility_num DESC)a)
		<![CDATA[
		WHERE rnum >= #{start} AND rnum <= #{end}
		]]> 
	</select>
	<select id="selectFacilityCount" parameterType="map" resultType="integer">
		SELECT
		   COUNT(*)
		FROM lib_facility_admin
	</select>
</mapper>